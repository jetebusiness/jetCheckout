"use strict";!function(e,t,i,s){function n(t,i){this.element=t,this.settings=e.extend({},l,i),this._defaults=l,this._name=a,this.init()}var a="jetCheckout",r=function(e){return e.replace(/[^\d]+/g,"")},l={debug:!1,fieldSelector:".field",requiredSelector:".required",fieldGroupSelector:".fields",activeClass:"ativo",profile:{active:"",selector:{pf:".pessoa.fisica",pj:".pessoa.juridica"}},disabled:{class:"disabled"},success:{class:"success",message:{class:""}},warning:{class:"warning",message:{class:""}},error:{class:"error",message:{class:"ui basic red pointing prompt label"}},validate:{default:{type:"",pattern:"",message:"",toValidate:function(){return!0}},date:{type:"regex",pattern:/(((0[1-9]|[12][0-9])|3[01])[\-/](0[13578]|1[02])[\-/][1-9][0-9][0-9][0-9])|(((0[1-9]|[12][0-9])|30)[\-/](0[13-9]|1[0-2])[\-/][1-9][0-9][0-9][0-9])|((0[1-9]|[12][0-9])[\-/]02[\-/][1-9][0-9]([02468][048]|[13579][26]))|((0[1-9]|[12][0-8])[\-/]02[\-/][1-9][0-9][0-9][0-9])/,message:"Data de Nascimento inválida."},creditcard:{type:"regex",pattern:/[0-9]{4}\-?[0-9]{4}\-?[0-9]{4}\-?[0-9]{4}/,message:"Cartão de crédito inválido."},cpfCnpj:{type:"cpfcnpj",message:"CPF/CNPJ inválido."},email:{type:"regex",pattern:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/g,message:"E-mail inválido. Ex: seuemail@provedor.com"},empty:{type:"empty",message:"Campo obrigatório."},name:{type:"name",pattern:/^[ ',-\.A-Za-z\xC0-\xCF\xD1-\xD6\xD8-\xDD\xDF-\xE5\xE7-\xF6\xF8-\xFD\xFF\u0104-\u0107\u010C\u010D\u0116-\u0119\u012E\u012F\u0141-\u0144\u0152\u0160\u0161\u016A\u016B\u0172\u0173\u0178-\u017E\u2202]+$/,message:"Preencha com seu nome completo. (Ex: João Silva ou Maria Silva)"},number:{type:"regex",pattern:/^[0-9]+$/,message:"Somente números."},phone:{type:"regex",pattern:/(^|\()?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*([0-9]{2})[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]|\))*(9?[0-9]{4})([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]|\-)?([0-9]{4})($|\n)/,message:"Telefone inválido. (Ex: (16) 3645-9857 ou (16) 98764-5316)"},select:{type:"select",message:"Escolha uma opção."},zipcode:{type:"zipcode",message:"CEP inválido.",onValidateInputComplete:function(){}}},onValidateClear:function(){},onValidateFail:function(){},onValidateSucess:function(){},onInputComplete:function(){},onNext:function(){},onshowNextField:function(){},disableEvent:function(){},onFinishedForm:function(e,t){},onUnFinishedForm:function(e,t){}};e.extend(n.prototype,{init:function(){var t=e(this.element),i=this,s=this.settings.fieldGroupSelector,n=this.settings.fieldSelector;return this.tabIndex=0,t.find(s+':not([data-jet-active="true"]), '+n+':not([data-jet-active="true"]), [data-jet-active="false"]').hide().find("input").each(function(){e(this).attr("disabled",!0)}),t.show(),t.find(s).each(function(){e(this).attr("data-jet-field-group",!0),e.fn[a].setId(e(this))}),t.find(n).each(function(){var t=this;e.fn[a].setId(e(this)),e(this).attr("data-jet-field",!0);var s=e(this),n=e(this).find("input:first"),r=function(){var e=0;return function(t,i){clearTimeout(e),e=setTimeout(t,i)}}();n.keypress(function(e){9===(e.keyCode||e.which)&&(i.validateField(s)||(e.preventDefault(),n.focus())),r(function(){i.validateField(s)&&(i.settings.onNext.call(s),i.showNextField(s))},500)}),n.on("blur change",function(){i.settings.onInputComplete.call(s),i.validateField(s)&&(i.settings.onNext.call(s),i.showNextField(s),e(t).attr("data-jet-valid")&&i.settings.disableEvent(s))})}),this},validateField:function(t){var i=this,s=!1,n=!1,l=(t=e(t)).attr("data-jet-checkout-id"),o=t.find("input:first"),d=o.attr("data-jet-validate"),u=o.attr("data-jet-type"),c=o.val(),f="";if(i.endOfForm(),void 0===d)return!0;for(var h in i.settings.validate)if(h===d){var p=i.settings.validate[h];if(f=p.message,"cpfcnpj"===p.type){if("profileChanger"===u&&0===r(c).length)return i.changeProfile("clear"),i.fieldClear(t,l),!1;11===r(c).length?(i.changeProfile("pf"),s=e.fn[a].validateCPF(c)):14===r(c).length&&(i.changeProfile("pj"),s=e.fn[a].validateCNPJ(c))}else if("empty"===p.type)""!==c&&(s=!0);else if("function"===p.type)s=p.toValidate();else if("name"===p.type)/[^-\s]\s/g.test(c)&&(s=p.pattern.test(c));else if("regex"===p.type)s=p.pattern.test(c);else{if("select"===p.type)return o=t.find("select:first"),d=o.attr("data-jet-validate"),(c=o.val())?(i.fieldIsInvalid(t,l),!1):(i.fieldIsValid(t,l),!0);if("zipcode"===p.type){var v=/^[0-9]{8}$/;if(""===(c=r(c))||c.length>=1&&!v.test(c))s=!1;else{if(!v.test(c))return!1;s=!0,p.onValidateInputComplete()}}}if(s){n=!0;break}}return n?(i.fieldIsValid(t,l),!0):(i.fieldIsInvalid(t,l,f),!1)},fieldClear:function(t,i){var s=this;(t=e(t)).attr("data-jet-valid",!0).removeClass(s.settings.error.class).removeClass(s.settings.success.class),e.fn[a].showErrorMsg({remove:!0,id:i}),s.settings.onValidateClear.call(t)},fieldIsValid:function(t,i){var s=this;(t=e(t)).attr("data-jet-valid",!0).removeClass(s.settings.error.class).addClass(s.settings.success.class),e.fn[a].showErrorMsg({remove:!0,id:i}),s.settings.onValidateSucess.call(t)},fieldIsInvalid:function(t,i,s){var n=this;(t=e(t)).attr("data-jet-valid",!1).removeClass(n.settings.success.class).addClass(n.settings.error.class),e.fn[a].showErrorMsg({message:s,id:i,class:n.settings.error.message.class}),n.settings.onValidateFail.call(t)},changeProfile:function(t){var i=this;if("clear"===t){for(var s in i.settings.profile.selector)e(""+i.settings.profile.selector[s]).hide().find("input:first").val("").attr("disabled",!0);return!1}for(var n in i.settings.profile.selector)"clear"===t&&e(""+i.settings.profile.selector[n]).hide().find("input:first").val("").attr("disabled",!0),n===t&&(i.settings.profile.active=i.settings.profile.selector[n],e(""+i.settings.profile.active).find("input:first").val("").attr("disabled",!1)),e(i.settings.profile.selector[n]+":not("+i.settings.profile.active+")").hide().find("input:first").val("").attr("disabled",!0)},belongsToProfileSelector:function(t){t=e(t);var i=this;for(var s in i.settings.profile.selector)if(t.is(i.settings.profile.selector[s]))return!0;return!1},showElement:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i=this;if((t=e(t)).attr("data-jet-active",!0).fadeIn().focus().find("input").each(function(){e(this).attr("disabled",!1)}),t.is(i.settings.fieldSelector)&&t.is("visible")){var s=i.tabIndex=i.tabIndex+1;t.attr("tabindex",s)}i.settings.onshowNextField(t)},formStatus:function(){var t=this,i=""+t.settings.fieldSelector+t.settings.requiredSelector,s=""+t.settings.error.class,n=""+t.settings.success.class,a=e(i+"."+s+":visible:not(."+n+")"),r=e(i+"."+n+":visible:not(."+s+")"),l=e(i+":visible:not(."+n+"):not(."+s+")"),o=e(i+":not(."+s+"):visible"),d=e(i+":visible:not(."+n+")");return{complete:!!t.isTheEnd&&!l.length&&!d.hasClass(s)&&o.hasClass(n),error:a.hasClass(s),success:o.hasClass(n)&&!l.length&&!d.hasClass(s),fields:{error:a,success:r,incomplete:l}}},endOfForm:function(){var e=this,t=e.formStatus();e.executed&&(t.error&&e.settings.onUnFinishedForm(e.element,t.fields),t.success&&t.complete&&e.settings.onFinishedForm(e.element,t.fields))},showNextField:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this,n=(t=e(t)).next();return!!t.length&&(i?(s.validateShowField(t),!1):n.length?(s.validateShowField(n),!1):t.parent().next().length?(s.validateShowField(t.parent().next()),!1):(void 0===this.isTheEnd&&(this.isTheEnd=!0,s.executed=!0),this.endOfForm(),!0))},validateShowField:function(t){var i=this;return!(t=e(t)).is("form")&&(t.attr("data-jet-revel")&&t.is(i.settings.fieldSelector)?(i.showElement(t,!0),i.showNextField(t),!1):t.attr("data-jet-checkout-id")?this.belongsToProfileSelector(t)?t.is(i.settings.profile.active)?t.attr("data-jet-field-group")?(i.showElement(t),i.showNextField(t[0].firstElementChild,!0),!1):(i.showElement(t),!1):(i.showNextField(t),!1):t.attr("data-jet-field-group")?(i.showElement(t),i.showNextField(t[0].firstElementChild,!0),!1):(i.showElement(t),!1):(i.showElement(t),i.showNextField(t),!1))}}),e.fn[a]=function(t){return this.each(function(){e.data(this,"data-"+a)||e.data(this,"data-"+a,new n(this,t))})},e.fn[a].makeId=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e.fn[a].setId=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t=e(t),""===i?(i=e.fn[a].makeId(),t.attr("data-jet-checkout-id",i),i):(t.attr("data-jet-checkout-id",i),null)},e.fn[a].validateCNPJ=function(e){var t=["00000000000000","11111111111111","22222222222222","33333333333333","44444444444444","55555555555555","66666666666666","77777777777777","88888888888888","99999999999999"],i=/[-\/.]/g,s=/[^\d]/g,n={},a=function(e){var t=2,i=e.split("").reduce(function(e,t){return[parseInt(t,10)].concat(e)},[]).reduce(function(e,i){return e+=i*t,t=9===t?2:t+1,e},0)%11;return i<2?0:11-i};return n.format=function(e){return this.strip(e).replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5")},n.strip=function(e,t){var n=t?i:s;return(e||"").toString().replace(n,"")},n.isValid=function(e,i){var s=this.strip(e,i);if(!s)return!1;if(14!==s.length)return!1;if(t.indexOf(s)>=0)return!1;var n=s.substr(0,12);return n+=a(n),(n+=a(n)).substr(-2)===s.substr(-2)},n.isValid(e)},e.fn[a].validateCPF=function(e){var t=["00000000000","11111111111","22222222222","33333333333","44444444444","55555555555","66666666666","77777777777","88888888888","99999999999","12345678909"],i=/[.-]/g,s=/[^\d]/g,n={},a=function(e){var t=(e=e.split("").map(function(e){return parseInt(e,10)})).length+1,i=e.map(function(e,i){return e*(t-i)}).reduce(function(e,t){return e+t})%11;return i<2?0:11-i};return n.strip=function(e,t){var n=t?i:s;return(e||"").toString().replace(n,"")},n.isValid=function(e,i){var s=this.strip(e,i);if(!s)return!1;if(11!==s.length)return!1;if(t.indexOf(s)>=0)return!1;var n=s.substr(0,9);return n+=a(n),(n+=a(n)).substr(-2)===s.substr(-2)},n.isValid(e)},e.fn[a].showErrorMsg=function(t){var i=e('[data-jet-checkout-id="'+t.id+'"]'),s='<div class="'+t.class+'" data-error-for="'+t.id+'">'+t.message+"</div>";!0===t.remove?e('div[data-error-for="'+t.id+'"]').remove():i.find('div[data-error-for="'+t.id+'"]').length<=0&&i.append(s)}}(jQuery,window,document);
//# sourceMappingURL=jquery.jetcheckout.min.js.map
